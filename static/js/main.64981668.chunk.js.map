{"version":3,"sources":["post.js","firebase.js","imgUp.js","App.js","index.js"],"names":["Post","img_url","userName","text","avatar","className","Avatar","alt","src","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","ImgUp","username","useState","setText","image","setImage","progress","setProgress","value","max","Input","placeholder","type","onChange","e","target","files","Button","onClick","ref","name","put","on","snapshot","Math","round","bytesTransferred","totalBytes","err","console","log","alert","message","child","getDownloadURL","then","url","collection","add","timestamp","FieldValue","serverTimestamp","getModalStyle","top","random","left","transform","useStyles","makeStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","App","modalStyle","classes","post","setPost","open","setOpen","email","setEmail","password","setPassword","user","setUser","currentUser","setCurrentUser","openLogin","setOpenLogin","useEffect","unsubscribe","onAuthStateChanged","authUser","displayName","updateProfile","orderBy","onSnapshot","snap","docs","map","doc","data","id","signUp","preventDefault","createUserWithEmailAndPassword","catch","Modal","onClose","aria-labelledby","aria-describedby","style","required","signInWithEmailAndPassword","signOut","clientAccessToken","maxWidth","hideCaption","containerTagName","protocol","injectScript","onLoading","onSuccess","onAfterRender","onFailure","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.64981668.chunk.js","sourcesContent":["import React from 'react'\r\nimport './post.css'\r\nimport Avatar from '@material-ui/core/Avatar'\r\n\r\n\r\n const Post = ({img_url, userName, text, avatar}) => {\r\n\r\n    //if(text.length == 0) {\r\n   //     return\r\n    //}\r\n    return (\r\n        <div className=\"post\">\r\n            {/* header> avatar-username */}<div className=\"post__header\">\r\n            <Avatar \r\n            alt=\"Billgits\" \r\n            className=\"avatar__post\" src={avatar} /> \r\n            <h1>{userName}</h1>\r\n            </div> \r\n            {/* {post photo or vid} */}<img className=\"post__img\" src={img_url} />\r\n            {/* {buttom > text - icons- comments} */}\r\n            <div className=\"post__botm\">\r\n                <h4 className=\"post__text\">\r\n                <strong>{userName}</strong>:{text} \r\n                </h4>\r\n        </div>\r\n  \r\n        </div> \r\n    )                                                                                                 \r\n}\r\n\r\nexport default Post\r\n","// const firebaseConfig = {\r\n\r\n\r\n//   export default db\r\n\r\nimport firebase from 'firebase';\r\n\r\nconst FirebaseApp = firebase.initializeApp({\r\n      apiKey: \"AIzaSyBKACMZm3Bj0gbybXIIbFBG3WtXISPFFRM\",\r\n    authDomain: \"instagram-clone-1a04f.firebaseapp.com\",\r\n    projectId: \"instagram-clone-1a04f\",\r\n    storageBucket: \"instagram-clone-1a04f.appspot.com\",\r\n    messagingSenderId: \"124207309263\",\r\n    appId: \"1:124207309263:web:63b3f92e686889e20ff2ba\",\r\n    measurementId: \"G-312YRG3F1K\"\r\n  }\r\n);\r\n\r\nconst db = FirebaseApp.firestore();\r\nconst auth = firebase.auth();\r\nconst storage = firebase.storage();\r\n\r\nexport { db, auth, storage };\r\n\r\n\r\n //apiKey: \"AIzaSyB1poxK0zqDzI_0ikw-2er6DvTLcIqHmQU\",\r\n  // authDomain: \"instagramclone-b146e.firebaseapp.com\",\r\n  // databaseURL: \"https://instagramclone-b146e.firebaseio.com\",\r\n  // projectId: \"instagramclone-b146e\",\r\n  // storageBucket: \"instagramclone-b146e.appspot.com\",\r\n  // messagingSenderId: \"583593730459\",\r\n  // appId: \"1:583593730459:web:74761eadc236b2767b813e\",\r\n  // measurementId: \"G-ZQJFP5CKT6\"","import React, { useState } from 'react'\r\nimport { Button, Input} from '@material-ui/core';\r\nimport firebase from 'firebase';\r\nimport { db, storage }from './firebase'\r\nimport'./imgUp.css'\r\n\r\nfunction ImgUp({ username }) {\r\n\r\nconst [text, setText] = useState('')\r\nconst [image, setImage] = useState(null)\r\nconst [progress, setProgress] = useState(0)\r\n\r\nconst fileInput = (e) => {\r\nif(e.target.files[0]) {\r\n    setImage(e.target.files[0])\r\n}\r\n}\r\n\r\nconst handleUpload = () => {\r\nconst uploadTask = storage.ref(`images/${image.name}`).put(image)\r\nuploadTask.on(\r\n    \"state_changed\",\r\n    (snapshot) => {\r\n        const progress = Math.round(\r\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n)\r\n setProgress(progress)\r\n}, (err) => {\r\n    console.log(err)\r\n    alert(err.message)\r\n}, \r\n() => {\r\n    // complete functoin ...\r\n    storage\r\n    .ref('images')\r\n    .child(image.name)\r\n    .getDownloadURL()\r\n    .then(url => {\r\n      db.collection('posts').add({\r\n          timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n          text: text,\r\n          img_url: url,\r\n          userName: username,\r\n      })\r\n    \r\n    })\r\n     setProgress(0);\r\n     setText(\"\")\r\n     setImage(null)\r\n}\r\n)\r\n}\r\n\r\n    return (\r\n        <div className=\"img_upload\">\r\n             <progress className=\"progress\" value={progress} max=\"100\" />\r\n             <Input placeholder=\"add text\" type=\"text\" onChange={(e) => setText(e.target.value)} />\r\n             <Input onChange={fileInput} type=\"file\" />\r\n             <Button onClick={handleUpload}>\r\n            Upload\r\n             </Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImgUp\r\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Post from './post'\nimport { db, auth }from './firebase'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport { Button, Input} from '@material-ui/core';\nimport ImgUp from './imgUp'\nimport InstagramEmbed from 'react-instagram-embed';\n\n\nfunction getModalStyle() {\n  const top = 50 + Math.random();\n  const left = 50 + Math.random();\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\n\n\nfunction App({userName, text, avatar, img_url }) {\n  const [modalStyle] = useState(getModalStyle);\n  const classes = useStyles()\n  const [post, setPost] = useState([])\n  const [open, setOpen] = useState(false)\n  const [email, setEmail] = useState('')\n  const [ password, setPassword] = useState('')\n  const [ user, setUser] = useState('')\n  const [currentUser, setCurrentUser] = useState(null)\n  const [openLogin, setOpenLogin] = useState(false)\n\n  useEffect(() => {\n   const unsubscribe = auth.onAuthStateChanged((authUser) => {\n       if(authUser) {\n// log in\n  console.log(authUser)\n  setCurrentUser(authUser)\n\n  if(authUser.displayName) {\n//if he has a name\n  }else {\n// if he doesnt has a name\n\nreturn authUser.updateProfile({\n  displayName: user,\n})\n  }\n\n    }else {\n// log out\n       setCurrentUser(null)\n    }\n    })\n\n    return () => {\n      unsubscribe()\n    }\n  }, [user, currentUser])\n\nuseEffect(() => {\n  //\n  //.((snapshot) => {\n    db.collection('posts').orderBy('timestamp', \"desc\").onSnapshot(snap => {\n      setPost(snap.docs.map(doc => ({\n    post: doc.data(),\n    id: doc.id\n  })))\n  \n    })\n}, [])\n\n// const keyV = Date.now()\n\nconst handleClose = () => {\nsetOpen(false)\n}\n\nconst signUp = (e) => {\n  e.preventDefault()\n  setOpen(true)\nauth\n.createUserWithEmailAndPassword(email, password)\n.catch(err => (\n  alert(err.message)\n)) \n\n\n\n  \n}\n\nconst logOut = (e) => {\n  e.preventDefault()\n\n  auth.signOut()\n  setCurrentUser(null)\n\n}\n\nconst Login = (e) => {\n  e.preventDefault()\n\n  auth\n  .signInWithEmailAndPassword(email, password)\n  .catch(err => {\n    alert(err.message)\n  })\n\n setOpenLogin(false)\n\n}\n\n  return (\n    <div className=\"App\">\n\n     {/* {\n       //there is diff in here :)\n       currentUser?.displayName? <ImgUp username={currentUser.displayName} /> :( <h3>Sorry u need to login to uplead</h3>)\n     }  */}\n     \n     <Modal\n  open={open}\n  onClose={handleClose}\n  aria-labelledby=\"simple-modal-title\"\n  aria-describedby=\"simple-modal-description\"\n>\n     <div style={modalStyle} className={classes.paper}>\n      \n     <form > \n     <div className=\"signUp__form\">\n\n     \n     <center>\n       <img src=\"https://e7.pngegg.com/pngimages/712/1009/png-clipart-letter-instagram-font-instagram-text-logo.png\" \n       className=\"modal__headerImg\"/>\n <Input \n       type=\"text\" \n       value={user} \n       placeholder=\"user name\" \n       onChange={(e) => setUser(e.target.value)}\n       required/>\n\n\n <Input \n       type=\"text\" \n       value={email} \n       placeholder=\"email\" \n       onChange={(e) => setEmail(e.target.value)}\n       required/>\n\n\n <Input \n       type=\"password\" \n       value={password} \n       placeholder=\"password\" \n       onChange={(e) => setPassword(e.target.value)}\n       required/>\n\n      <Button onClick={signUp}>Sign up</Button>\n\n     </center>\n     </div>\n    </form>\n  </div>\n </Modal>\n\n <Modal\n  open={openLogin}\n  onClose={() => setOpenLogin(false)}\n  aria-labelledby=\"simple-modal-title\"\n  aria-describedby=\"simple-modal-description\"\n>\n     <div style={modalStyle} className={classes.paper}>\n      \n     <form > \n     <div className=\"signUp__form\">\n\n     \n     <center>\n       <img src=\"https://e7.pngegg.com/pngimages/712/1009/png-clipart-letter-instagram-font-instagram-text-logo.png\" \n       className=\"modal__headerImg\"/>\n\n <Input \n       type=\"text\" \n       value={email} \n       placeholder=\"email\" \n       onChange={(e) => setEmail(e.target.value)}\n       required/>\n\n\n <Input \n       type=\"password\" \n       value={password} \n       placeholder=\"password\" \n       onChange={(e) => setPassword(e.target.value)}\n       required/>\n\n      <Button onClick={Login}>Login</Button>\n\n     </center>\n     </div>\n    </form>\n  </div>\n </Modal>\n\n    <div className=\"app__header\">\n      <img src=\"https://e7.pngegg.com/pngimages/712/1009/png-clipart-letter-instagram-font-instagram-text-logo.png\" className=\"app__headerImg\"/>\n      {currentUser ? <Button onClick={logOut}>Logout</Button> \n    :\n      <div>\n         <Button onClick={signUp}>Sign up</Button>\n         <Button onClick={() => setOpenLogin(true)}>Login</Button>\n      </div>\n    }\n    </div>\n\n    \n<div className=\"app__posts\">\n <div className=\"left\">\n   {post.map(({post, id}) => (\n       <Post key={id} \n       userName={post.userName} \n       text={post.text} \n       avatar={post.avatar} \n       img_url={post.img_url} \n       />\n))}\n </div>\n     <div className=\"right\">\n        <InstagramEmbed\n  url='https://instagr.am/p/Zw9o4/'\n  clientAccessToken='123|456'\n  maxWidth={320}\n  hideCaption={false}\n  containerTagName='div'\n  protocol=''\n  injectScript\n  onLoading={() => {}}\n  onSuccess={() => {}}\n  onAfterRender={() => {}}\n  onFailure={() => {}}\n/>\n     </div>\n    \n\n    </div>\n   {/* <div className=\"embed\">\n     <h1>hello</h1>\n    \n   </div> */}\n    \n\n {\n       currentUser?.displayName? <ImgUp username={currentUser.displayName} /> :( <h3>Sorry u need to login to uplead</h3>)\n     } \n\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n//   If you want to start measuring performance in your app, pass a function\n//  to log results (for example: reportWebVitals(console.log))/ or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}