(this.webpackJsonpinstagram=this.webpackJsonpinstagram||[]).push([[0],{53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},63:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(5),s=a(2),c=a.n(s),r=a(16),i=a.n(r),o=(a(53),a(17)),l=(a(54),a(55),a(94)),d=function(e){var t=e.img_url,a=e.userName,s=e.text,c=e.avatar;return Object(n.jsxs)("div",{className:"post",children:[Object(n.jsxs)("div",{className:"post__header",children:[Object(n.jsx)(l.a,{alt:"Billgits",className:"avatar__post",src:c}),Object(n.jsx)("h1",{children:a})]}),Object(n.jsx)("img",{className:"post__img",src:t}),Object(n.jsx)("div",{className:"post__botm",children:Object(n.jsxs)("h4",{className:"post__text",children:[Object(n.jsx)("strong",{children:a}),":",s]})})]})},u=a(26),j=u.a.initializeApp({apiKey:"AIzaSyBKACMZm3Bj0gbybXIIbFBG3WtXISPFFRM",authDomain:"instagram-clone-1a04f.firebaseapp.com",projectId:"instagram-clone-1a04f",storageBucket:"instagram-clone-1a04f.appspot.com",messagingSenderId:"124207309263",appId:"1:124207309263:web:63b3f92e686889e20ff2ba",measurementId:"G-312YRG3F1K"}).firestore(),p=u.a.auth(),m=u.a.storage(),g=a(90),b=a(91),h=a(93),f=a(92);a(63);var O=function(e){var t=e.username,a=Object(s.useState)(""),c=Object(o.a)(a,2),r=c[0],i=c[1],l=Object(s.useState)(null),d=Object(o.a)(l,2),p=d[0],g=d[1],b=Object(s.useState)(0),O=Object(o.a)(b,2),x=O[0],v=O[1];return Object(n.jsxs)("div",{className:"img_upload",children:[Object(n.jsx)("progress",{className:"progress",value:x,max:"100"}),Object(n.jsx)(h.a,{placeholder:"add text",type:"text",onChange:function(e){return i(e.target.value)}}),Object(n.jsx)(h.a,{onChange:function(e){e.target.files[0]&&g(e.target.files[0])},type:"file"}),Object(n.jsx)(f.a,{onClick:function(){m.ref("images/".concat(p.name)).put(p).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);v(t)}),(function(e){console.log(e),alert(e.message)}),(function(){m.ref("images").child(p.name).getDownloadURL().then((function(e){j.collection("posts").add({timestamp:u.a.firestore.FieldValue.serverTimestamp(),text:r,img_url:e,userName:t})})),v(0),i(""),g(null)}))},children:"Upload"})]})},x=a(43);function v(){var e=50+Math.random(),t=50+Math.random();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var _=Object(g.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var N=function(e){e.userName,e.text,e.avatar,e.img_url;var t=Object(s.useState)(v),a=Object(o.a)(t,1)[0],c=_(),r=Object(s.useState)([]),i=Object(o.a)(r,2),l=i[0],u=i[1],m=Object(s.useState)(!1),g=Object(o.a)(m,2),N=g[0],y=g[1],S=Object(s.useState)(""),C=Object(o.a)(S,2),w=C[0],I=C[1],k=Object(s.useState)(""),A=Object(o.a)(k,2),B=A[0],F=A[1],M=Object(s.useState)(""),q=Object(o.a)(M,2),D=q[0],E=q[1],L=Object(s.useState)(null),U=Object(o.a)(L,2),P=U[0],R=U[1],T=Object(s.useState)(!1),W=Object(o.a)(T,2),G=W[0],K=W[1];Object(s.useEffect)((function(){var e=p.onAuthStateChanged((function(e){if(e){if(console.log(e),R(e),!e.displayName)return e.updateProfile({displayName:D})}else R(null)}));return function(){e()}}),[D,P]),Object(s.useEffect)((function(){j.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){u(e.docs.map((function(e){return{post:e.data(),id:e.id}})))}))}),[]);var z=function(e){e.preventDefault(),y(!0),p.createUserWithEmailAndPassword(w,B).catch((function(e){return alert(e.message)}))};return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(b.a,{open:N,onClose:function(){y(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(n.jsx)("div",{style:a,className:c.paper,children:Object(n.jsx)("form",{children:Object(n.jsx)("div",{className:"signUp__form",children:Object(n.jsxs)("center",{children:[Object(n.jsx)("img",{src:"https://e7.pngegg.com/pngimages/712/1009/png-clipart-letter-instagram-font-instagram-text-logo.png",className:"modal__headerImg"}),Object(n.jsx)(h.a,{type:"text",value:D,placeholder:"user name",onChange:function(e){return E(e.target.value)},required:!0}),Object(n.jsx)(h.a,{type:"text",value:w,placeholder:"email",onChange:function(e){return I(e.target.value)},required:!0}),Object(n.jsx)(h.a,{type:"password",value:B,placeholder:"password",onChange:function(e){return F(e.target.value)},required:!0}),Object(n.jsx)(f.a,{onClick:z,children:"Sign up"})]})})})})}),Object(n.jsx)(b.a,{open:G,onClose:function(){return K(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(n.jsx)("div",{style:a,className:c.paper,children:Object(n.jsx)("form",{children:Object(n.jsx)("div",{className:"signUp__form",children:Object(n.jsxs)("center",{children:[Object(n.jsx)("img",{src:"https://e7.pngegg.com/pngimages/712/1009/png-clipart-letter-instagram-font-instagram-text-logo.png",className:"modal__headerImg"}),Object(n.jsx)(h.a,{type:"text",value:w,placeholder:"email",onChange:function(e){return I(e.target.value)},required:!0}),Object(n.jsx)(h.a,{type:"password",value:B,placeholder:"password",onChange:function(e){return F(e.target.value)},required:!0}),Object(n.jsx)(f.a,{onClick:function(e){e.preventDefault(),p.signInWithEmailAndPassword(w,B).catch((function(e){alert(e.message)})),K(!1)},children:"Login"})]})})})})}),Object(n.jsxs)("div",{className:"app__header",children:[Object(n.jsx)("img",{src:"https://e7.pngegg.com/pngimages/712/1009/png-clipart-letter-instagram-font-instagram-text-logo.png",className:"app__headerImg"}),P?Object(n.jsx)(f.a,{onClick:function(e){e.preventDefault(),p.signOut(),R(null)},children:"Logout"}):Object(n.jsxs)("div",{children:[Object(n.jsx)(f.a,{onClick:z,children:"Sign up"}),Object(n.jsx)(f.a,{onClick:function(){return K(!0)},children:"Login"})]})]}),Object(n.jsxs)("div",{className:"app__posts",children:[Object(n.jsx)("div",{className:"left",children:l.map((function(e){var t=e.post,a=e.id;return Object(n.jsx)(d,{userName:t.userName,text:t.text,avatar:t.avatar,img_url:t.img_url},a)}))}),Object(n.jsx)("div",{className:"right",children:Object(n.jsx)(x.a,{url:"https://instagr.am/p/Zw9o4/",clientAccessToken:"123|456",maxWidth:320,hideCaption:!1,containerTagName:"div",protocol:"",injectScript:!0,onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){}})})]}),(null===P||void 0===P?void 0:P.displayName)?Object(n.jsx)(O,{username:P.displayName}):Object(n.jsx)("h3",{children:"Sorry u need to login to uplead"})]})};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(N,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.64981668.chunk.js.map